{% extends 'base.html' %}
{% block content %}
{% include 'header.html' %}
<main class="container">
  <article>

    <header>
      <h1 class="title">{{page['title']}}</h1>

      <!-- Notebook Navigation -->
      {% set subpages=page.subpages %}
      {% if subpages %}
      <h3>Pages:</h3>
      <ul style="list-style: none; padding-left: 0;">
        {% set maxdepth = 2 %}
        {% for subpage in subpages recursive %}

        <li>
          <a href="{{ subpage.url }}">{{subpage.title}}</a>
          {% if subpage.subpages and loop.index < maxdepth %}
          <ul>{{ loop(subpage.subpages) }}</ul>
          {% endif %}
        </li>

        {% endfor %}
      </ul>
      {% endif %}
    </header>

    <!-- Content -->
    {% if page.has_content %}
    <section class="content">{{ include_raw(page.content_path) }}</section>
    {% endif %}

  </article>
</main>
{% endblock %}